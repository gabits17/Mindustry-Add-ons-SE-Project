# Code Smell Report
## Author
- Manuel Oliveira (68547)
# Code Smells
## Message Chains
This code smell appears quite often throughout the codebase.

Some examples I've encountered:
- More than once in **playSector** method in **mindustry/core/Control**
![img1.png](Assets/img1.png)

- In **setInput**, also of **mindustry/core/Control**
  ![img2.png](Assets/img2.png)

- In **play** in **mindustry/core/Logic**
  ![img3.png](Assets/img3.png)


### Proposed Solution
In theory, to solve this smell the refactoring technique of Hide Delegate, and therefor spreading the method and variable calls throughout the code base. But in some cases the methods called are from autogenerated code and major project refactoring would be necessary.

## Dead Code
I found at least one method obsolete by admission of its authors.
The case I'm referring to is, **unitSpawn** method, in the **mindustry/entities/units** package in the **Units** class
![img3.png](Assets/img4.png)

### Proposed Solution
The best solution would be to fully delete the unnecessary method, or at least change the documentation to reflect, only, the current function of the method.
But once again the code that calls the example I found is in a autogenerated class and to properly correct this instance it would be necessary to do a substantial code rework.


## Shotgun Surgery
In the **mindustry/entities/pattern** there are a lot of classes that demonstrate this code smell.
In this package there are a few classes that implement the method **shoot** in very similar ays for the same purpose but in different variations, and therefore a change to the way shooting is supposed to work would require the alteration of all the implementations.

*ShootAlternate*
![Shotgun_Surgery_1.png](Assets/Shotgun_Surgery_1.png)

*ShootBarrel*
![Shotgun_Surgery_2.png](Assets/Shotgun_Surgery_2.png)

*ShootHelix*
![Shotgun_Surgery_3.png](Assets/Shotgun_Surgery_3.png)

*ShootMulti*
![Shotgun_Surgery_4.png](Assets/Shotgun_Surgery_4.png)

*ShootPattern*
![Shotgun_Surgery_5.png](Assets/Shotgun_Surgery_5.png)

*ShootSine*
![Shotgun_Surgery_6.png](Assets/Shotgun_Surgery_6.png)

*ShootSpread*
![Shotgun_Surgery_7.png](Assets/Shotgun_Surgery_7.png)

### Proposed Solution
To correct this one possible solution would be to merge all the different classes into one and possibly also all the different methods int one with a switch case to choose between the different functionality. 
